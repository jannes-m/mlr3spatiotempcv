<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started • mlr3spatiotempcv</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mlr3spatiotempcv</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Version">0.0.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
<li>
  <a href="../articles/mlr3spatiotempcv.html">Get started</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlr-org/mlr3spatiotempcv">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fab fa fab fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Get Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3spatiotempcv/blob/master/vignettes/mlr3spatiotempcv.Rmd"><code>vignettes/mlr3spatiotempcv.Rmd</code></a></small>
      <div class="hidden name"><code>mlr3spatiotempcv.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"mlr3"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"mlr3spatiotempcv"</span>)</a></code></pre></div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This package provides resampling methods for the [mlr3] package framework suited for spatial and temporal data. <strong>Currently, only spatial resampling are implemented.</strong></p>
<p>After calling <code><a href="https://rdrr.io/r/base/library.html">library("mlr3spatiotempcv")</a></code>, the additional resampling methods and example tasks of this extension package are available to the user.</p>
<div id="task-types" class="section level3">
<h3 class="hasAnchor">
<a href="#task-types" class="anchor"></a>Task types</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">mlr_reflections<span class="op">$</span>task_types</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt;       type          package          task        learner        prediction</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; 1: classif             mlr3   TaskClassif LearnerClassif PredictionClassif</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; 2: classif mlr3spatiotempcv TaskClassifST LearnerClassif PredictionClassif</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; 3:    regr             mlr3      TaskRegr    LearnerRegr    PredictionRegr</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; 4:    regr mlr3spatiotempcv    TaskRegrST    LearnerRegr    PredictionRegr</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt;           measure</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; 1: MeasureClassif</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; 2: MeasureClassif</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; 3:    MeasureRegr</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; 4:    MeasureRegr</span></a></code></pre></div>
</div>
<div id="task-column-roles" class="section level3">
<h3 class="hasAnchor">
<a href="#task-column-roles" class="anchor"></a>Task column roles</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># note the addtional "coordinates" slot</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">mlr_reflections<span class="op">$</span>task_col_roles</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; $regr</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; [1] "feature"     "target"      "label"       "order"       "group"      </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; [6] "weight"      "coordinates"</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; $classif</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; [1] "feature"     "target"      "label"       "order"       "group"      </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt; [6] "weight"      "coordinates"</span></a></code></pre></div>
</div>
<div id="resampling-methods" class="section level3">
<h3 class="hasAnchor">
<a href="#resampling-methods" class="anchor"></a>Resampling methods</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://mlr3.mlr-org.com/reference/as.data.table.html">as.data.table</a></span>(mlr_resamplings)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; Registered S3 method overwritten by 'xts':</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt;   method     from</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;   as.zoo.xts zoo</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;                      key                          params iters</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;  1:            bootstrap                   repeats,ratio    30</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;  2:               custom                                     0</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;  3:                   cv                           folds    10</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;  4:              holdout                           ratio     1</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  5: repeated-spcv-coords                   repeats,folds    NA</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  6:    repeated-spcv-env                   repeats,folds    NA</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  7:          repeated_cv                   repeats,folds   100</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  8:           spcv-block folds,rows,cols,range,selection    10</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  9:          spcv-buffer                           range     0</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; 10:          spcv-coords                           folds    10</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; 11:             spcv-env                  folds,features    10</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; 12:          subsampling                   repeats,ratio    30</span></a></code></pre></div>
<p>Currently, the following resampling methods are implemented:</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="12%">
<col width="12%">
<col width="27%">
<col width="28%">
</colgroup>
<thead><tr class="header">
<th>Literature</th>
<th>Package</th>
<th>Reference</th>
<th>Class Name</th>
<th>mlr3 Sugar</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Spatial Buffering</td>
<td><a href="https://github.com/rvalavi/blockCV">blockCV</a></td>
<td>Valavi 2019</td>
<td><code>ResamplingSpCVBuffer</code></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp("spcv-buffer")</a></code></td>
</tr>
<tr class="even">
<td>Spatial Blocking</td>
<td><a href="https://github.com/rvalavi/blockCV">blockCV</a></td>
<td>Valavi 2019</td>
<td><code>ResamplingSpCVBlock</code></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp("spcv-block")</a></code></td>
</tr>
<tr class="odd">
<td>Spatial CV</td>
<td><a href="https://github.com/giscience-fsu/sperrorest">sperrorest</a></td>
<td>Brenning 2012</td>
<td><code>ResamplingSpCVCoords</code></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp("spcv-coords")</a></code></td>
</tr>
<tr class="even">
<td>Environmental Blocking</td>
<td><a href="https://github.com/rvalavi/blockCV">blockCV</a></td>
<td>Valavi 2019</td>
<td><code>ResamplingSpCVEnv</code></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp("spcv-env")</a></code></td>
</tr>
<tr class="odd">
<td>—</td>
<td>—</td>
<td>—</td>
<td>—</td>
<td>—</td>
</tr>
<tr class="even">
<td>Repeated Spatial CV</td>
<td><a href="https://github.com/giscience-fsu/sperrorest">sperrorest</a></td>
<td>Brenning 2012</td>
<td><code>RepeatedResamplingSpCVCoords</code></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp("repeated-spcv-coords")</a></code></td>
</tr>
</tbody>
</table>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>To create a spatial task, use the classes <code>TaskClassifST</code> and <code>TaskRegrST</code>. Your dataset needs to come with coordinates. The column names of these variables need to be passed during class construction via argument <code>coordinates_names</code>.</p>
<p>In addition, one can can specify whether the coordinates should be used as features during modeling or not. By default they are not used and will be removed as features from the dataset after the coordinates have been created.</p>
<p>For optional plotting purposes, it is recommended to also pass the PROJ string via the <code>crs</code> argument to set a coordinate reference system for the supplied coordinates.</p>
<p>When printing a spatial task, this package adds a preview of the stored coordinates.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">data =<span class="st"> </span>mlr3<span class="op">::</span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/as_data_backend.html">as_data_backend</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata"</span>, <span class="st">"ecuador.rda"</span>,</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="dt">package =</span> <span class="st">"mlr3spatiotempcv"</span>)))</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">TaskClassifST<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">"ecuador"</span>, <span class="dt">backend =</span> data, <span class="dt">target =</span> <span class="st">"slides"</span>,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="dt">positive =</span> <span class="st">"TRUE"</span>, <span class="dt">coordinate_names =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x"</span>, <span class="st">"y"</span>), <span class="dt">coords_as_features =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="dt">crs =</span> <span class="st">"+proj=utm +zone=17 +south +datum=WGS84 +units=m +no_defs"</span>)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; &lt;TaskClassifST:ecuador&gt; (751 x 11)</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; * Target: slides</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; * Properties: twoclass</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; * Features (10):</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;   - dbl (10): carea, cslope, dem, distdeforest, distroad,</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;     distslidespast, hcurv, log.carea, slope, vcurv</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt; * Coordinates:</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;             x       y</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;   1: 712882.5 9560002</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;   2: 715232.5 9559582</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;   3: 715392.5 9560172</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;   4: 715042.5 9559312</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt;   5: 715382.5 9560142</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;  ---                 </span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt; 747: 714472.5 9558482</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt; 748: 713142.5 9560992</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt; 749: 713322.5 9560562</span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt; 750: 715392.5 9557932</span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt; 751: 713802.5 9560862</span></a></code></pre></div>
<p>After the task has been constructed, it can be used in conjunction with all resampling methods that contain <code>"spcv"</code> and all others. However, non-spatial methods should <strong>only be used to showcase the degree of overoptimistic performance estimates</strong> compared to the chosen spatiotemporal resampling method <span class="citation">(Schratz et al. <a href="#ref-schratz2019">2019</a>)</span>.</p>
<div id="resampling" class="section level3">
<h3 class="hasAnchor">
<a href="#resampling" class="anchor"></a>Resampling</h3>
<p>To showcase the usage with code, we adapt the basic <a href="https://mlr3book.mlr-org.com/resampling.html">resampling example of the mlr3book</a>.</p>
<p>However, here we are using the “ecuador” example task that comes with the {mlr3spatiotempcv} package and use the <code>"repeated-spcv-coords"</code> resampling method.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">ecuador =<span class="st"> </span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk</a></span>(<span class="st">"ecuador"</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">learner =<span class="st"> </span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">lrn</a></span>(<span class="st">"classif.rpart"</span>, <span class="dt">maxdepth =</span> <span class="dv">3</span>, <span class="dt">predict_type =</span> <span class="st">"prob"</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">resampling_sp =<span class="st"> </span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp</a></span>(<span class="st">"repeated-spcv-coords"</span>, <span class="dt">folds =</span> <span class="dv">5</span>, <span class="dt">repeats =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">rr_sp =<span class="st"> </span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/resample.html">resample</a></span>(<span class="dt">task =</span> ecuador, <span class="dt">learner =</span> learner,</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  <span class="dt">resampling =</span> resampling_sp)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">rr_sp<span class="op">$</span><span class="kw"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span>(<span class="dt">measures =</span> <span class="kw"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">msr</a></span>(<span class="st">"classif.ce"</span>))</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; classif.ce </span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  0.4038356</span></a></code></pre></div>
<p>Now let’s do the same with a classic non-spatial CV.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">resampling_nsp =<span class="st"> </span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp</a></span>(<span class="st">"repeated_cv"</span>, <span class="dt">folds =</span> <span class="dv">5</span>, <span class="dt">repeats =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">rr_nsp =<span class="st"> </span><span class="kw"><a href="https://mlr3.mlr-org.com/reference/resample.html">resample</a></span>(<span class="dt">task =</span> ecuador, <span class="dt">learner =</span> learner,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="dt">resampling =</span> resampling_nsp)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"></a>
<a class="sourceLine" id="cb7-5" data-line-number="5">rr_nsp<span class="op">$</span><span class="kw"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span>(<span class="dt">measures =</span> <span class="kw"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">msr</a></span>(<span class="st">"classif.ce"</span>))</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; classif.ce </span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt;  0.3366057</span></a></code></pre></div>
<p>We see that the classical non-spatial CV performs better. However, “better” in this case actually means overoptimistic and biased <span class="citation">(Burman, Chow, and Nolan <a href="#ref-burman1994">1994</a>; Cliff and Ord <a href="#ref-cliff1970">1970</a>; Racine <a href="#ref-racine2000">2000</a>; Schratz et al. <a href="#ref-schratz2019">2019</a>)</span>. Hence, it is advised to <strong>not</strong> use classical CV methods for spatiotemporal data but rather choose an appropriate spatiotemporal method.</p>
</div>
</div>
<div id="visualization" class="section level2">
<h2 class="hasAnchor">
<a href="#visualization" class="anchor"></a>Visualization</h2>
<p>This package follows the {mlr3} ecosystem idea of providing <code><a href="../reference/autoplot.html">autoplot()</a></code> methods for certain classes.</p>
<p>For an exhaustive overview, have a look at the <a href="https://mlr3spatiotempcv.mlr-org.com/reference/autoplot_spatial_resampling.html">reference section for the autoplot method</a> on the pkgdown site of this package.</p>
<p>To showcase the usage, we will visualize both resampling methods which we created for the comparison we just did above.</p>
<div id="spatial" class="section level3">
<h3 class="hasAnchor">
<a href="#spatial" class="anchor"></a>Spatial</h3>
<p>Multiple options exists. If no specific fold is specified, all partitions will be returned distinguished by color.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/autoplot.html">autoplot</a></span>(resampling_sp, ecuador)</a></code></pre></div>
<p><img src="mlr3spatiotempcv_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div id="non-spatial" class="section level3">
<h3 class="hasAnchor">
<a href="#non-spatial" class="anchor"></a>Non-spatial</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Not yet supported</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co"># autoplot(resampling_nsp, ecuador)</span></a></code></pre></div>
</div>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-burman1994">
<p>Burman, Prabir, Edmond Chow, and Deborah Nolan. 1994. “A Cross-Validatory Method for Dependent Data.” <em>Biometrika</em> 81 (2). Oxford University Press (OUP): 351–58. <a href="https://doi.org/10.1093/biomet/81.2.351" class="uri">https://doi.org/10.1093/biomet/81.2.351</a>.</p>
</div>
<div id="ref-cliff1970">
<p>Cliff, Andrew D., and Keith Ord. 1970. “Spatial Autocorrelation: A Review of Existing and New Measures with Applications.” <em>Economic Geography</em> 46 (June). JSTOR: 269. <a href="https://doi.org/10.2307/143144" class="uri">https://doi.org/10.2307/143144</a>.</p>
</div>
<div id="ref-racine2000">
<p>Racine, Jeff. 2000. “Consistent Cross-Validatory Model-Selection for Dependent Data: Hv-Block Cross-Validation.” <em>Journal of Econometrics</em> 99 (1). Elsevier BV: 39–61. <a href="https://doi.org/10.1016/s0304-4076(00)00030-0" class="uri">https://doi.org/10.1016/s0304-4076(00)00030-0</a>.</p>
</div>
<div id="ref-schratz2019">
<p>Schratz, Patrick, Jannes Muenchow, Eugenia Iturritxa, Jakob Richter, and Alexander Brenning. 2019. “Hyperparameter Tuning and Performance Assessment of Statistical and Machine-Learning Algorithms Using Spatial Data.” <em>Ecological Modelling</em> 406 (August). Elsevier BV: 109–20. <a href="https://doi.org/10.1016/j.ecolmodel.2019.06.002" class="uri">https://doi.org/10.1016/j.ecolmodel.2019.06.002</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#introduction">Introduction</a><ul class="nav nav-pills nav-stacked">
<li><a href="#usage">Usage</a></li>
      <li><a href="#visualization">Visualization</a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Patrick Schratz, Marc Becker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
